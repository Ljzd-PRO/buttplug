# Welcome to Buttplug Device Config
#
# DO NOT EDIT THIS FILE. YOUR CHANGES WILL BE OVERWRITTEN.
#
# Use user-device-config.yml for local device definitions.
#
# Now that we've got that bit of impoliteness out of the way... Hi, I'm qDot. Welcome to the
# buttplug device configuration file.
#
# You've managed to wander into this place we keep all of the sex toy information. You're not really
# supposed to be here, but since you've shown up, might as give you a tour.
#
# This file is used in Rust Buttplug implementation. It's our main source of truth for devices we
# know about.
#
# Devices in Buttplug are defined in terms of their protocol. We group together all devices that
# speak the same language. It will look something like this:
#
# protocols:
#   lovense:
#     btle:
#       names:
#         - LVS-*
#       services:
#         0000fff0-0000-1000-8000-00805f9b34fb: null
#
# The protocols portion of the config file lists all of the protocols we know, and how the devices
# that speak those protocols can be identified. For the above example, we're looking at Lovense
# brand hardware, all of which uses bluetooth LE, so we create a "btle" configuration section for
# that protocol. We list the device names (using a * as a wildcard, so this means "try to connect to
# anything that starts with LVS-"). We also list the services we're interested in. If a service only
# has rx/tx characteristics (many devices emulate serial in this way), we just put "null" and let
# the Bluetooth subtype manager sort out the characteristics on connect. Otherwise, if there are
# multiple characteristics, we list those in name/uuid form. See the definitions below for more
# examples.
#
# Other devices are similar. For USB/HID, we just list VID/PID pairs, as that's all we have to
# identify with.
#
# Serial ports are a bit different in that we don't have a specifier for them, they could be
# anywhere. Therefore, we just specify the port settings in this file. Baud rate, data bits, etc. In
# Buttplug Reference Servers, we allow the user to pass in another device config file like this one
# that they've built, that can define things like local port names. So the user may have a file that
# looks like:
#
# protocols:
#   nobra:
#     serial:
#       ports:
#         - COM4
#
# The user's config will be merged with this config file in the server, which lets any Serial
# subtype manager know which port to discover the device on, as well as all of the other port
# settings to use.
#
# Users can also define things we're missing here, like new BTLE names or IDs we haven't gotten to
# yet. The only thing users can't define is new protocols, since those have to be implemented in
# source code.
#
# That's pretty much it for how this file works. Now for the actual protocol definitions. This is
# gonna get wild, so I'll keep a list of rules that you can refer to up here.
#
# - If you are curious about device identifiers or protocols, all of those are documented at
#   https://stpihkal.docs.buttplug.io
#
# - BTLE name fields can be wildcarded using "*". This allows us to do things like searching for all
#   devices of a certain name.
#
# - Where possible, we assume all devices have at least one output (so we can send the commands),
#   and maybe one input. In cases otherwise, a comment should be left denoting what we're doing
#   something different.
#
# - Most toys just mirror good ol' serial. With that in mind, we call the host-to-device line tx,
#   and device-to-host line rx.
#
# - A "btle" connection info with multiple service listings can mean one of two things. Either we
#   expect the device to be identifiable as multiple services (like Lovense), or the device may have
#   multiple services we use (like some BTLE toys that divide control and sensor between different
#   services).
#
# - If you're connecting to a buttplug server and don't see a device that's listed here, it's not
#   the fault of this config file. Servers may not implement all protocols or busses for various
#   reasons. We just define which devices we may know about here. File an issue on the library
#   you're using.
#
# - If you're connecting to a buttplug server and some device doesn't take a Buttplug message you're
#   expecting it to, it's not the fault of this config file. Servers implement protocols, and
#   protocols dictate which messages they are capable of sending. We don't really keep a standard
#   for that, we just define which devices we may know about here. File an issue on the library
#   you're using.
#
# - Serial info here is for default device configuration. Port names will have to be added by the
#   user in the user device config file.
version:
  major: 3
  minor: 0
protocols:
  lovense:
    # Lovense is special. Special in oh so many ways.
    #
    # Lovense have changed BLE name formats at least once. For this generic device, we just use the
    # largest wildcard we can. We do our name and capabilities finding in the protocol
    # implementation, because we have to query the device after connection.
    #
    # The service uuids change constantly. This list is overly exhaustive, because we have to
    # specify services in WebBluetooth and can't wildcard them. We'll add more as we find them.
    btle:
      names:
        - LVS-*
        - LOVE-*
      # This conflicts with Hismith, and we don't need this for identification anymore since we've moved to
      # advertised-services:
        # - 0000ffb0-0000-1000-8000-00805f9b34fb # Folove advertised service
      manufacturer-data:
        - company: 0x026c
          data: [0xff, 0x21] # Folove manufacturer data (start of a pretty long array)
      services:
        0000fff0-0000-1000-8000-00805f9b34fb:
          tx: 0000fff2-0000-1000-8000-00805f9b34fb
          rx: 0000fff1-0000-1000-8000-00805f9b34fb
        6e400001-b5a3-f393-e0a9-e50e24dcca9e:
          tx: 6e400002-b5a3-f393-e0a9-e50e24dcca9e
          rx: 6e400003-b5a3-f393-e0a9-e50e24dcca9e
        50300001-0024-4bd4-bbd5-a6920e4c5653:
          tx: 50300002-0024-4bd4-bbd5-a6920e4c5653
          rx: 50300003-0024-4bd4-bbd5-a6920e4c5653
        57300001-0023-4bd4-bbd5-a6920e4c5653:
          tx: 57300002-0023-4bd4-bbd5-a6920e4c5653
          rx: 57300003-0023-4bd4-bbd5-a6920e4c5653
        5a300001-0024-4bd4-bbd5-a6920e4c5653:
          tx: 5a300002-0024-4bd4-bbd5-a6920e4c5653
          rx: 5a300003-0024-4bd4-bbd5-a6920e4c5653
        50300001-0023-4bd4-bbd5-a6920e4c5653:
          tx: 50300002-0023-4bd4-bbd5-a6920e4c5653
          rx: 50300003-0023-4bd4-bbd5-a6920e4c5653
        53300001-0023-4bd4-bbd5-a6920e4c5653:
          tx: 53300002-0023-4bd4-bbd5-a6920e4c5653
          rx: 53300003-0023-4bd4-bbd5-a6920e4c5653
        5a300001-0023-4bd4-bbd5-a6920e4c5653:
          tx: 5a300002-0023-4bd4-bbd5-a6920e4c5653
          rx: 5a300003-0023-4bd4-bbd5-a6920e4c5653
        4f300001-0023-4bd4-bbd5-a6920e4c5653:
          tx: 4f300002-0023-4bd4-bbd5-a6920e4c5653
          rx: 4f300003-0023-4bd4-bbd5-a6920e4c5653
        42300001-0023-4bd4-bbd5-a6920e4c5653: # Max 2
          tx: 42300002-0023-4bd4-bbd5-a6920e4c5653
          rx: 42300003-0023-4bd4-bbd5-a6920e4c5653
        43300001-0023-4bd4-bbd5-a6920e4c5653: # New Nora
          tx: 43300002-0023-4bd4-bbd5-a6920e4c5653
          rx: 43300003-0023-4bd4-bbd5-a6920e4c5653
        4c300001-0023-4bd4-bbd5-a6920e4c5653: # Ambi
          tx: 4c300002-0023-4bd4-bbd5-a6920e4c5653
          rx: 4c300003-0023-4bd4-bbd5-a6920e4c5653
        56300001-0023-4bd4-bbd5-a6920e4c5653: # Mission
          tx: 56300002-0023-4bd4-bbd5-a6920e4c5653
          rx: 56300003-0023-4bd4-bbd5-a6920e4c5653
        58300001-0023-4bd4-bbd5-a6920e4c5653: # Ferri
          tx: 58300002-0023-4bd4-bbd5-a6920e4c5653
          rx: 58300003-0023-4bd4-bbd5-a6920e4c5653
        52300001-0023-4bd4-bbd5-a6920e4c5653: # Diamo
          tx: 52300002-0023-4bd4-bbd5-a6920e4c5653
          rx: 52300003-0023-4bd4-bbd5-a6920e4c5653
        46300001-0023-4bd4-bbd5-a6920e4c5653: # Blast/Ridge
          tx: 46300002-0023-4bd4-bbd5-a6920e4c5653
          rx: 46300003-0023-4bd4-bbd5-a6920e4c5653
        50300011-0023-4bd4-bbd5-a6920e4c5653: # Edge2 paired
          tx: 50300012-0023-4bd4-bbd5-a6920e4c5653
          rx: 50300013-0023-4bd4-bbd5-a6920e4c5653
        4a300001-0023-4bd4-bbd5-a6920e4c5653: # Quake/Dolce
          tx: 4a300002-0023-4bd4-bbd5-a6920e4c5653
          rx: 4a300003-0023-4bd4-bbd5-a6920e4c5653
        45440001-0023-4bd4-bbd5-a6920e4c5653: # Gush
          tx: 45440002-0023-4bd4-bbd5-a6920e4c5653
          rx: 45440003-0023-4bd4-bbd5-a6920e4c5653
        45420001-0023-4bd4-bbd5-a6920e4c5653: # Hyphy
          tx: 45420002-0023-4bd4-bbd5-a6920e4c5653
          rx: 45420003-0023-4bd4-bbd5-a6920e4c5653
        54300001-0023-4bd4-bbd5-a6920e4c5653: # Calor
          tx: 54300002-0023-4bd4-bbd5-a6920e4c5653
          rx: 54300003-0023-4bd4-bbd5-a6920e4c5653
        45490001-0023-4bd4-bbd5-a6920e4c5653: # Flexer
          tx: 45490002-0023-4bd4-bbd5-a6920e4c5653
          rx: 45490003-0023-4bd4-bbd5-a6920e4c5653
        4e300001-0023-4bd4-bbd5-a6920e4c5653: # Gemini
          tx: 4e300002-0023-4bd4-bbd5-a6920e4c5653
          rx: 4e300003-0023-4bd4-bbd5-a6920e4c5653
        45410001-0023-4bd4-bbd5-a6920e4c5653: # Gravity
          tx: 45410002-0023-4bd4-bbd5-a6920e4c5653
          rx: 45410003-0023-4bd4-bbd5-a6920e4c5653
        51300001-0023-4bd4-bbd5-a6920e4c5653: # Tenera
          tx: 51300002-0023-4bd4-bbd5-a6920e4c5653
          rx: 51300003-0023-4bd4-bbd5-a6920e4c5653
        45460001-0023-4bd4-bbd5-a6920e4c5653: # Exomoon
          tx: 45460002-0023-4bd4-bbd5-a6920e4c5653
          rx: 45460003-0023-4bd4-bbd5-a6920e4c5653
    defaults:
      name: Lovense Device
      actuators:
        0: 
          StepRange: [0, 20]
          Type: Vibrate
          Messages: [ScalarCmd]
          Descriptor: Generic Vibrator
      sensors:
        0:
          SensorRange: [[0, 100]]
          Type: Battery
          Descriptor: Battery Level
          Readable: true
          Subscribable: false
    configurations:
      # For lovense, our identifiers are the letters returned from the
      # DeviceInfo query sent on initialization.
      - identifier:
          - B
        name: Lovense Max
        actuators:
          0:
            StepRange: [0, 20]
            Descriptor: Vibrator
            Type: Vibrate
            Messages: [ScalarCmd]
          1:
            StepRange: [0, 3]
            Descriptor: Air Pump
            Type: Constrict
            Messages: [ScalarCmd]
      - identifier:
          - P
        name: Lovense Edge
        actuators:
          0:
            StepRange: [0, 20]
            Descriptor: Insertable Vibrator
            Type: Vibrate
            Messages: [ScalarCmd]
          1:
            StepRange: [0, 20]
            Descriptor: Perineal Vibrator
            Type: Vibrate
            Messages: [ScalarCmd]
      - identifier:
          - Z
        name: Lovense Hush
